import matplotlib.pyplot as plt
import numpy as np

data = [
    [26.22177997016667, 28.267432871666667, 62.43938159416666, 1.46],
    [25.9204201688, 23.2777136112, 157.6660661054, 5.64],
    [30.986404901714284, 58.50709089371429, 237.18292557171432, 3.31]
]

x = np.arange(len(data))
bar_width = 0.2

patterns = ['/', '', '/']

for i in range(4):
    if i == 2:
        plt.bar(x + i * bar_width, [row[i] for row in data], color='white', width=bar_width, hatch=patterns[i], edgecolor='green', label=f'Column {i+1}')
        continue

    plt.bar(x + i * bar_width, [row[i] for row in data], width=bar_width, label=f'Column {i+1}')

plt.xlabel('number of TTPs')
plt.ylabel('average execution time (s)')
plt.xticks(x + bar_width, ['1', '2', '3'])
plt.legend(labels=['TTP discovery stage', 'Localization and patching stage', 'Verification stage (not required)', 'time cost of localization algorithm'])
plt.show()
