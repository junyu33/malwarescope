import os
import math


onlycfg = open('onlycfg.txt', 'r')

onlycfg = onlycfg.readlines()

avg1 = []
avg2 = []
avg3 = []

def avg(mylist):
    a = 0.0
    for i in mylist:
        a = a + i
    return a / len(mylist)

# list all file with suffix .perf
perf_files = [f for f in os.listdir('.') if f.endswith('.perf')]

for files in perf_files:
    output_files = open(files, 'r')
    phase2time = 0
    
    lines = output_files.readlines()

    # print(lines[0])

    try:
        a = int(lines[0])
    except:
        continue
    
    if int(lines[0]) == 1:
        line1 = lines[1].split(' ')
        running = abs(float(line1[1]) - float(line1[3]))
        avg1.append(running)

    if int(lines[0]) == 2:
        line1 = lines[1].split(' ')
        running = abs(float(line1[1]) - float(line1[3]))
        avg2.append(running)

    if int(lines[0]) == 3:
        line1 = lines[1].split(' ')
        running = abs(float(line1[1]) - float(line1[3]))
        avg3.append(running)

avg_value1 = avg(avg1) 
avg_value2 = avg(avg2) 
avg_value3 = avg(avg3) 

print(avg_value1)
print(avg_value2)
print(avg_value3)
