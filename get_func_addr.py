import angr
import claripy
import sys

def main(binary_path):
    # Load the binary
    proj = angr.Project(binary_path, load_options={'auto_load_libs': False})
    
    # Get a CFG (Control Flow Graph) to help identify functions
    cfg = proj.analyses.CFGFast()

    # Iterate through all the functions found by CFG
    for addr, func in cfg.kb.functions.items():
        print(f"Function Name: {func.name}, Virtual Address: {hex(addr)}")

    # Optionally, you can explore more about each function
    # such as its endpoints, blocks, etc.

if __name__ == "__main__":
    binary_path = sys.argv[1]  # Change this to your binary's path
    main(binary_path)

